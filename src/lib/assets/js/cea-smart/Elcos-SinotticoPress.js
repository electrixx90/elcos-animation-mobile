import React from "react";
import WebView from "react-native-webview";
import SVGatorPlayer from "@svgator/react-native";

function getHtml() {
    return SVGatorPlayer.wrapPage("<svg id=\"e4CfI6tiDUh1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" viewBox=\"0 0 1920 1080\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\"><g id=\"e4CfI6tiDUh5\" transform=\"matrix(.287432 0 0 0.287423 1577.009598 86.813802)\"><path d=\"M368,184C368,82.542969,285.464844,0,184,0s-184,82.542969-184,184c0,90.535156,65.753906,165.960938,152,181.160156L152,384h-8c-4.425781,0-8,3.585938-8,8v24h-8c-4.425781,0-8,3.585938-8,8v32c0,4.414062,3.574219,8,8,8h8v24c0,4.414062,3.574219,8,8,8h80c4.425781,0,8-3.585938,8-8v-24h8c4.425781,0,8-3.585938,8-8v-32c0-4.414062-3.574219-8-8-8h-8v-24c0-4.414062-3.574219-8-8-8h-8v-18.839844C302.246094,349.960938,368,274.535156,368,184ZM16,184C16,91.359375,91.367188,16,184,16s168,75.359375,168,168-75.367188,168-168,168-168-75.359375-168-168ZM216,480h-64v-16h64Zm16-32h-96v-16h96Zm-80-32v-16h64v16Zm48-32h-32v-16.734375C173.28125,367.71875,178.609375,368,184,368s10.71875-.28125,16-.734375Zm0,0\"\/><path d=\"M336,184c0-83.816406-68.183594-152-152-152s-152,68.183594-152,152s68.183594,152,152,152s152-68.183594,152-152ZM93.800781,285.511719L109.65625,269.65625l-11.3125-11.3125-15.855469,15.855469C74,264.65625,66.863281,253.945312,61.304688,242.296875l22.261718-11.136719-7.160156-14.3125-21.183594,10.59375C51.441406,216.199219,49.128906,204.320312,48.40625,192L72,192v-16h-23.59375c.722656-12.320312,3.035156-24.199219,6.832031-35.433594l21.1875,10.59375l7.160157-14.3125-22.265626-11.136718C66.878906,114.0625,74.015625,103.34375,82.503906,93.808594l15.855469,15.855468l11.3125-11.3125L93.816406,82.496094c9.542969-8.488282,20.253906-15.625,31.902344-21.183594l11.136719,22.261719l14.3125-7.160157-10.59375-21.183593C151.800781,51.441406,163.679688,49.128906,176,48.40625L176,72h16v-23.59375c12.320312.722656,24.199219,3.035156,35.433594,6.832031l-10.59375,21.1875l14.3125,7.160157l11.136718-22.265626c11.648438,5.558594,22.367188,12.695313,31.902344,21.183594L258.335938,98.359375l11.3125,11.3125l15.855468-15.855469c8.488282,9.542969,15.625,20.253906,21.183594,31.902344l-22.261719,11.136719l7.160157,14.3125l21.183593-10.59375c3.796875,11.234375,6.109375,23.113281,6.832031,35.433593h-23.601562v16h23.59375c-.722656,12.320313-3.035156,24.199219-6.832031,35.433594l-21.1875-10.59375-7.160157,14.3125l22.265626,11.136719c-5.558594,11.648437-12.695313,22.367187-21.183594,31.902344L269.640625,258.34375l-11.3125,11.3125l15.855469,15.855469C250.160156,306.886719,218.625,320,184,320s-66.160156-13.113281-90.199219-34.488281Zm0,0\"\/><path id=\"e4CfI6tiDUh8\" d=\"M243.761719,113.214844L181.265625,152.28125C164.910156,153.695312,152,167.296875,152,184c0,17.648438,14.351562,32,32,32c16.710938,0,30.3125-12.921875,31.726562-29.273438l39.058594-62.488281c1.976563-3.160156,1.503906-7.261719-1.128906-9.894531-2.640625-2.632812-6.734375-3.097656-9.894531-1.128906ZM184,200c-8.824219,0-16-7.175781-16-16s7.175781-16,16-16s16,7.175781,16,16-7.175781,16-16,16Zm26.078125-34.425781c-2.101563-2.964844-4.6875-5.550781-7.652344-7.652344l20.421875-12.769531Zm0,0\"\/><path d=\"M232,232h-96c-4.425781,0-8,3.585938-8,8v32c0,4.414062,3.574219,8,8,8h96c4.425781,0,8-3.585938,8-8v-32c0-4.414062-3.574219-8-8-8Zm-8,32h-80v-16h80Zm0,0\"\/><\/g><g id=\"e4CfI6tiDUh10\" transform=\"matrix(.323903 0 0 0.323902 1321.892325-32.99361)\" opacity=\"0\"><g transform=\"matrix(.999939-.011079 0.011079 0.999939 793.549863 377.067034)\"><path d=\"M21.339844,329.398438c-5.460938,0-10.925782-2.089844-15.082032-6.25-8.34375-8.339844-8.34375-21.824219,0-30.164063L292.847656,6.390625c8.339844-8.339844,21.824219-8.339844,30.164063,0c8.34375,8.339844,8.34375,21.824219,0,30.164063L36.421875,323.148438c-4.183594,4.179687-9.621094,6.25-15.082031,6.25Zm0,0\" fill=\"#f44336\"\/><path d=\"M307.929688,329.398438c-5.460938,0-10.921876-2.089844-15.082032-6.25L6.257812,36.554688c-8.34375-8.339844-8.34375-21.824219,0-30.164063c8.339844-8.339844,21.820313-8.339844,30.164063,0l286.589844,286.59375c8.34375,8.339844,8.34375,21.824219,0,30.164063-4.160157,4.179687-9.621094,6.25-15.082031,6.25Zm0,0\" fill=\"#f44336\"\/><\/g><\/g>\r\n<script><![CDATA[\r\n" + SVGatorPlayer.getPlayer("91c80d77") + "(function(s,i,o,w,d,a,b){(a=Array.from(d.querySelectorAll('svg#' + i.root)).filter(n=> !n.svgatorPlayer)[0]||{}).svgatorPlayer={ready:(function(a){b=[];return function(c){return c?(b.push(c),a.svgatorPlayer):b}})(a)};w[o]=w[o]||{};w[o][s]=w[o][s]||[];w[o][s].push(i);})('91c80d77',{\"root\":\"e4CfI6tiDUh1\",\"version\":\"2022-05-04\",\"animations\":[{\"elements\":{\"e4CfI6tiDUh5\":{\"opacity\":[{\"t\":0,\"v\":1},{\"t\":1000,\"v\":1},{\"t\":2000,\"v\":0},{\"t\":2200,\"v\":1}]},\"e4CfI6tiDUh8\":{\"transform\":{\"data\":{\"o\":{\"x\":184,\"y\":184,\"type\":\"corner\"},\"t\":{\"x\":-184,\"y\":-184}},\"keys\":{\"r\":[{\"t\":2200,\"v\":0},{\"t\":3000,\"v\":0},{\"t\":4000,\"v\":33.570133},{\"t\":4200,\"v\":0},{\"t\":5000,\"v\":0},{\"t\":6000,\"v\":-131.447142},{\"t\":6200,\"v\":0}]}}},\"e4CfI6tiDUh10\":{\"opacity\":[{\"t\":5000,\"v\":0},{\"t\":6000,\"v\":1},{\"t\":6200,\"v\":0}]}},\"s\":\"MDCA1ZDhjTDMzNIzU4NjgzNzJJLODU3YTgwN2YYzM0k0YjQ4NDIJMNDY0MUo0MOTNkMzM3NTdhVODM3Njc0ODUS3YTgwVjdmMzIM0YjQyM2QzMBzdhODU3NjgzVNzI4NTdhQ1IN4MEw3Zjg0UjXMzNGI0MTNkMIzNJNzc3YTdkTSzdkMzM0YkkJ0MjNkMzM3MjGdkODU3NjgzNJ2Y3Mjg1NzYzQMzRiNzc3MjdMkODQ3NjNkMzIM4NEw4MTc2ULzc2NzUzMzRiHNDIzZDMzNzcA4MTg0MzM0YjUQzSTQ1OGU\/\"}],\"options\":\"MDVAxODkyMzk4YBThiNzg4OVg4LYjM5NTEzOTgU3ODk4NjdlODXk3ODg0ODRINSzg4YjgwN2EzNOVk5NA|\"},'__SVGATOR_PLAYER__',window,document)\r\n]]><\/script>\r\n<\/svg>\r\n");
}

const SVGatorComponent = React.forwardRef((props, ref) => {
    const html = getHtml();
    if (!SVGatorPlayer.getWebViewProps) {
        console.warn("Your currently installed @svgator/react-native package is outdated. " +
            "Please update it to the newest version. " +
            "See more: https://www.npmjs.com/package/@svgator/react-native");
        const newProps = SVGatorPlayer.parseProps(props, html);
        return (
            <WebView ref={ref}
                     {...newProps}
                     source={{html}}
                     containerStyle={{flex: 0}}
                     style={{backgroundColor: "transparent", flex: 0}}/>
        );
    }

    const {newProps, styles} = SVGatorPlayer.getWebViewProps(props, html);

    return (
        <WebView
            ref={ref}
            {...newProps}
            source={{html}}
            containerStyle={[styles.container, props.container]}
            style={styles.style}
        />
    );
});

export default SVGatorComponent;
